<html>
<head>
  <title>–ö–≤–∞–Ω—Ç–æ—Ä–∏—É–º</title>
  <meta charset="utf-8"/>

</head>
<body>
  <h1>–ö–≤–∞–Ω—Ç–æ—Ä–∏—É–º - Frontend</h1>
  <article class="content">
    <button class="like-button"></button>
  </article>
  <script>
    const button = document.querySelector('.like-button')

    let likeStatus;

    document.addEventListener('DOMContentLoaded', async function() {
      let response = await fetch('http://localhost:3000/get-like');

      let json = await response.json();

      likeStatus = json.like;

      button.innerText = likeStatus ? '‚ù§Ô∏è' : 'üíî'
    });

    button.addEventListener('click', async function() {
      console.log('click')
      let response = likeStatus ?
        await fetch('http://localhost:3000/dislike') :
        await fetch('http://localhost:3000/like');

      let json = await response.json();

      likeStatus = json.like;

      button.innerText = likeStatus ? '‚ù§Ô∏è' : 'üíî'
    });
  </script>
</body>
</html>
